{
  "metadata": {
    "version": "1.0",
    "last_updated": "2024-12-16T00:00:00",
    "target": "Azure Local 2511"
  },
  "kubernetes_versions": [
    "1.27.9",
    "1.28.5"
  ],
  "os_images": {
    "linux": [
      {
        "name": "Azure Linux 2.0",
        "version": "2.0.20240101"
      },
      {
        "name": "Ubuntu 22.04",
        "version": "22.04.202401"
      }
    ],
    "windows": [
      {
        "name": "Windows Server 2022",
        "version": "20348.2227"
      },
      {
        "name": "Windows Server 2019",
        "version": "17763.5329"
      }
    ]
  },
  "vm_skus": {
    "general_purpose": [
      {
        "name": "Standard_D4s_v5",
        "vcpus": 4,
        "memory_gb": 16,
        "gpu": false
      },
      {
        "name": "Standard_D8s_v5",
        "vcpus": 8,
        "memory_gb": 32,
        "gpu": false
      },
      {
        "name": "Standard_D16s_v5",
        "vcpus": 16,
        "memory_gb": 64,
        "gpu": false
      }
    ],
    "gpu": [
      {
        "name": "Standard_NC4as_T4_v3",
        "vcpus": 4,
        "memory_gb": 28,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      },
      {
        "name": "Standard_NC8as_T4_v3",
        "vcpus": 8,
        "memory_gb": 56,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      },
      {
        "name": "Standard_NC16as_T4_v3",
        "vcpus": 16,
        "memory_gb": 110,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      }
    ]
  },
  "limits": {
    "control_plane_options": [1, 3, 5],
    "max_nodes_per_pool": 100,
    "max_pools_per_cluster": 10,
    "max_nodes_per_cluster": 1000,
    "max_racks": 16,
    "min_nodes_per_rack": 1
  },
  "workload_presets": {
    "video-analytics": {
      "name": "Video Analytics",
      "description": "Optimized for camera feeds, video processing, and analytics",
      "cpu_cores": 32,
      "memory_gb": 128,
      "gpu_required": true,
      "gpu_count": 2,
      "storage_gb": 1000
    },
    "ai-inference": {
      "name": "AI Inference",
      "description": "Machine learning model serving and inference workloads",
      "cpu_cores": 16,
      "memory_gb": 64,
      "gpu_required": true,
      "gpu_count": 1,
      "storage_gb": 500
    },
    "general-purpose": {
      "name": "General Purpose",
      "description": "Balanced compute for web apps and microservices",
      "cpu_cores": 8,
      "memory_gb": 32,
      "gpu_required": false,
      "gpu_count": 0,
      "storage_gb": 200
    }
  },
  "edge_ai_solutions": {
    "video-indexer-arc": {
      "name": "Azure Video Indexer enabled by Arc",
      "description": "Video and audio analysis with AI on edge devices. Process camera feeds, extract insights, and generate summaries locally.",
      "icon": "üé•",
      "arc_extension_type": "Microsoft.VideoIndexer",
      "requirements": {
        "min_cores": 32,
        "recommended_cores": 64,
        "min_memory_gb": 64,
        "recommended_memory_gb": 256,
        "min_storage_gb": 50,
        "recommended_storage_gb": 100,
        "min_nodes": 1,
        "recommended_nodes": 2,
        "gpu_required": false,
        "gpu_recommended": true,
        "kubernetes_version": "1.29",
        "os": "Ubuntu 22.04 or Linux Compatible",
        "azure_local_version": "2511",
        "storage_class_requirements": ["ReadWriteMany"],
        "network_endpoints": [
          "api.videoindexer.ai:443",
          "*.blob.core.windows.net:443",
          "*.monitoring.core.windows.net:443",
          "linuxgeneva-microsoft.azurecr.io:443",
          "*.azureedge.net:443",
          "*.data.microsoft.com:443"
        ]
      },
      "capabilities": {
        "ai_presets": ["Transcription", "Translation", "Captioning", "Object Detection", "Scene Detection", "Summarization"],
        "language_models": ["Phi (included)"],
        "supported_formats": {
          "video": ["AVI", "FLV", "MP4", "MKV", "MOV", "WMV"],
          "audio": ["AAC", "MP3", "WAV", "FLAC"]
        },
        "max_file_size_mb": 2048,
        "max_resolution": "1920x1080"
      },
      "industry_use_cases": {
        "manufacturing": [
          "Quality control and inspection video analysis",
          "Worker safety monitoring (PPE detection)",
          "Production line efficiency analytics",
          "Equipment maintenance video logging",
          "Training video indexing and search"
        ],
        "retail": [
          "Customer flow and behavior analytics",
          "Queue management and wait time analysis",
          "Shelf monitoring and planogram compliance",
          "Loss prevention and security monitoring",
          "Store operations optimization"
        ],
        "energy": [
          "Pipeline and infrastructure visual inspection",
          "Safety compliance video monitoring",
          "Incident investigation and forensics",
          "Remote site surveillance and analytics",
          "Equipment inspection video cataloging"
        ]
      },
      "deployment": {
        "extension_install_command": "az k8s-extension create --name video-indexer --extension-type Microsoft.VideoIndexer --cluster-name {cluster_name} --resource-group {resource_group} --cluster-type connectedClusters",
        "prerequisites": [
          "Azure subscription approved for Video Indexer Arc (apply at aka.ms/vi-register)",
          "Arc-enabled Kubernetes cluster on Azure Local",
          "ReadWriteMany storage class configured",
          "Network firewall rules for required endpoints",
          "Azure CLI 2.64.0+"
        ],
        "post_deployment_steps": [
          "Verify extension status: az k8s-extension show",
          "Obtain extension access token",
          "Configure video indexing presets",
          "Test with sample video file",
          "Set up monitoring and alerting"
        ]
      },
      "compliance_alignment": ["ISO 27001", "IEC 62443", "GDPR", "NERC CIP"],
      "estimated_monthly_cost": {
        "poc": 850,
        "pilot": 2100,
        "production": 2800
      }
    },
    "edge-rag-arc": {
      "name": "Edge RAG enabled by Arc",
      "description": "Search on-premises data with generative AI using Retrieval Augmented Generation. Build custom chat assistants for local documents.",
      "icon": "üí¨",
      "arc_extension_type": "Microsoft.EdgeRAG",
      "requirements": {
        "gpu_setup": {
          "gpu_vms": 4,
          "gpu_vm_size": "Standard_NC8_A2 or Standard_NC8_A16",
          "gpu_vcpus": 8,
          "gpu_memory_gb": 28,
          "cpu_vms": 4,
          "cpu_vm_size": "Standard_D8s_v3",
          "cpu_vcpus": 8,
          "cpu_memory_gb": 32,
          "total_cores": 64,
          "total_memory_gb": 256
        },
        "cpu_only_setup": {
          "vms": 4,
          "vm_size": "Standard_D8s_v3",
          "vcpus": 8,
          "memory_gb": 32,
          "total_cores": 32,
          "total_memory_gb": 128,
          "limitations": "Max file size 5MB (vs 30MB with GPU)"
        },
        "min_storage_gb": 100,
        "recommended_storage_gb": 150,
        "kubernetes_version": "1.29",
        "os": "Ubuntu 22.04 or Linux Compatible",
        "azure_local_version": "2504",
        "storage_class_requirements": ["ReadWriteMany", "NFS v3.0 or v4.1"],
        "network_requirements": [
          "MetalLB load balancer with static IP",
          "NFS share accessible from cluster"
        ],
        "network_endpoints": [
          "management.azure.com:443",
          "*.dp.kubernetesconfiguration.azure.com:443",
          "mcr.microsoft.com:443",
          "{nfs_server}:2049"
        ]
      },
      "capabilities": {
        "language_models": ["Microsoft/Phi-3.5-mini-instruct", "mistralai/Mistral-7B-Instruct-v0.2"],
        "supported_formats": {
          "documents": ["PDF", "DOCX", "TXT", "MHTML", "MD"],
          "images": ["JPG", "JPEG", "PNG"]
        },
        "max_file_size_mb_gpu": 30,
        "max_file_size_mb_cpu": 5,
        "search_types": ["Vector search", "Full text search", "Hybrid search", "Deep search", "Hybrid multimodal search"],
        "data_sources": ["NFS v3.0", "NFS v4.1 (AUTH_SYS only)"]
      },
      "industry_use_cases": {
        "manufacturing": [
          "Technical manual and SOP Q&A assistant",
          "Equipment troubleshooting chatbot",
          "Quality standards and procedures lookup",
          "Training material knowledge base",
          "Maintenance procedure guidance"
        ],
        "retail": [
          "Policy and compliance assistant",
          "Product knowledge chatbot",
          "Customer service AI helper",
          "Inventory procedure lookup",
          "Employee training assistant"
        ],
        "energy": [
          "Safety procedure instant lookup",
          "Regulatory compliance Q&A",
          "Equipment manual assistant",
          "Incident response guidance",
          "Technical documentation search"
        ]
      },
      "deployment": {
        "extension_install_command": "az k8s-extension create --name edge-rag --extension-type Microsoft.EdgeRAG --cluster-name {cluster_name} --resource-group {resource_group} --cluster-type connectedClusters --configuration-settings nfsServer={nfs_server} nfsPath={nfs_path}",
        "prerequisites": [
          "Azure subscription with Edge RAG preview access",
          "Arc-enabled Kubernetes cluster on Azure Local 2504+",
          "NFS v3.0/v4.1 server with document repository",
          "MetalLB configured with static routable IP",
          "GPU drivers installed (for GPU setup)",
          "TLS certificate (recommended for production)"
        ],
        "post_deployment_steps": [
          "Verify extension status and endpoint availability",
          "Configure data source (NFS connection)",
          "Set up document ingestion pipeline",
          "Configure chunking and embedding settings",
          "Test with sample queries",
          "Deploy custom chat UI or integrate API",
          "Set up Azure RBAC for access control"
        ]
      },
      "compliance_alignment": ["ISO 27001", "GDPR", "CCPA", "NERC CIP", "NIST CSF"],
      "estimated_monthly_cost": {
        "cpu_only": 1200,
        "gpu_pilot": 3500,
        "gpu_production": 4500
      }
    }
  },
  "environment_templates": {
    "poc": {
      "name": "POC / Development",
      "description": "Minimal resources for proof-of-concept and development testing",
      "icon": "üß™",
      "control_plane_count": 1,
      "min_nodes": 2,
      "max_nodes": 3,
      "enable_auto_scaling": false,
      "enable_monitoring": false,
      "backup_enabled": false,
      "cost_tier": "minimal",
      "use_cases": ["Quick testing", "Development", "Feature validation"],
      "warnings": ["Not suitable for production", "No high availability", "Single point of failure"],
      "estimated_monthly_cost": 247
    },
    "pilot": {
      "name": "Pilot / Testing",
      "description": "Basic high availability for pilot programs and pre-production testing",
      "icon": "üöÄ",
      "control_plane_count": 3,
      "min_nodes": 3,
      "max_nodes": 10,
      "enable_auto_scaling": true,
      "enable_monitoring": true,
      "backup_enabled": true,
      "cost_tier": "moderate",
      "use_cases": ["Pilot deployments", "UAT testing", "Performance validation"],
      "warnings": ["Limited scale", "Basic monitoring only"],
      "estimated_monthly_cost": 1834
    },
    "production": {
      "name": "Production",
      "description": "Full high availability with auto-scaling and comprehensive monitoring",
      "icon": "‚ö°",
      "control_plane_count": 3,
      "min_nodes": 3,
      "max_nodes": 100,
      "enable_auto_scaling": true,
      "enable_monitoring": true,
      "backup_enabled": true,
      "cost_tier": "full",
      "use_cases": ["Production workloads", "Mission-critical apps", "Enterprise scale"],
      "warnings": [],
      "estimated_monthly_cost": 4291,
      "security_hardening": true,
      "compliance_ready": true
    }
  },
  "industry_compliance": {
    "manufacturing": {
      "name": "Manufacturing",
      "icon": "üè≠",
      "description": "Industrial IoT, supply chain, and operational technology",
      "regulatory_frameworks": [
        {
          "name": "ISO 27001",
          "description": "Information Security Management System",
          "scope": "Global standard for information security",
          "key_requirements": [
            "Risk assessment and treatment",
            "Access control policies",
            "Cryptographic controls",
            "Security incident management"
          ]
        },
        {
          "name": "IEC 62443",
          "description": "Industrial Automation and Control Systems Security",
          "scope": "OT/ICS security standards",
          "key_requirements": [
            "Network segmentation",
            "Secure remote access",
            "Security level classifications",
            "Patch management for industrial systems"
          ]
        },
        {
          "name": "TISAX",
          "description": "Trusted Information Security Assessment Exchange",
          "scope": "Automotive industry security standard",
          "key_requirements": [
            "Information security controls",
            "Data protection",
            "Supplier security assessment",
            "Incident response procedures"
          ]
        }
      ],
      "security_pillars": [
        {
          "pillar": "OT/IT Convergence Security",
          "requirements": [
            "Network isolation between OT and IT systems",
            "Secure edge computing for industrial IoT",
            "Real-time monitoring of industrial protocols",
            "Air-gapped or DMZ architecture for critical systems"
          ]
        },
        {
          "pillar": "Supply Chain Security",
          "requirements": [
            "Vendor security assessments",
            "Secure B2B integrations",
            "Data integrity for supply chain transactions",
            "Third-party risk management"
          ]
        },
        {
          "pillar": "Operational Resilience",
          "requirements": [
            "Zero downtime requirements",
            "Disaster recovery for production systems",
            "Redundancy for critical manufacturing processes",
            "Automated failover mechanisms"
          ]
        }
      ],
      "azure_security_services": [
        "Azure Defender for IoT",
        "Azure Sentinel for OT/IT monitoring",
        "Azure Key Vault for secrets management",
        "Azure Private Link for secure connectivity"
      ]
    },
    "retail": {
      "name": "Retail",
      "icon": "üõí",
      "description": "E-commerce, point-of-sale, and customer data",
      "regulatory_frameworks": [
        {
          "name": "PCI-DSS",
          "description": "Payment Card Industry Data Security Standard",
          "scope": "Credit card data protection",
          "key_requirements": [
            "Build and maintain secure network",
            "Protect cardholder data with encryption",
            "Maintain vulnerability management",
            "Implement strong access controls",
            "Regular monitoring and testing",
            "Information security policy"
          ]
        },
        {
          "name": "GDPR",
          "description": "General Data Protection Regulation",
          "scope": "EU customer data protection",
          "key_requirements": [
            "Data minimization and purpose limitation",
            "Right to erasure and data portability",
            "Consent management",
            "Data breach notification (72 hours)",
            "Data protection impact assessments"
          ]
        },
        {
          "name": "CCPA",
          "description": "California Consumer Privacy Act",
          "scope": "California customer data rights",
          "key_requirements": [
            "Consumer right to know",
            "Right to delete personal information",
            "Opt-out of data sale",
            "Non-discrimination for privacy rights"
          ]
        }
      ],
      "security_pillars": [
        {
          "pillar": "Payment Security",
          "requirements": [
            "PCI-DSS compliant payment processing",
            "Tokenization of card data",
            "Point-to-point encryption (P2PE)",
            "Secure payment gateway integration",
            "No storage of CVV/CVC codes"
          ]
        },
        {
          "pillar": "Customer Data Protection",
          "requirements": [
            "Encryption at rest and in transit",
            "PII data masking and anonymization",
            "Data residency compliance",
            "Customer consent management",
            "Right to be forgotten implementation"
          ]
        },
        {
          "pillar": "E-commerce Security",
          "requirements": [
            "DDoS protection for online storefronts",
            "Web application firewall (WAF)",
            "API security for mobile apps",
            "Session management and timeout",
            "Fraud detection and prevention"
          ]
        }
      ],
      "azure_security_services": [
        "Azure DDoS Protection",
        "Azure Web Application Firewall",
        "Azure Confidential Computing",
        "Azure Information Protection",
        "Azure Active Directory B2C"
      ]
    },
    "energy": {
      "name": "Energy & Resources",
      "icon": "‚ö°",
      "description": "Power generation, oil & gas, and critical infrastructure",
      "regulatory_frameworks": [
        {
          "name": "NERC CIP",
          "description": "North American Electric Reliability Corporation Critical Infrastructure Protection",
          "scope": "Bulk electric system cybersecurity",
          "key_requirements": [
            "Electronic security perimeters",
            "Personnel and training",
            "Security management controls",
            "Incident reporting and response",
            "Recovery plans for critical systems"
          ]
        },
        {
          "name": "IEC 62351",
          "description": "Power Systems Management and Information Exchange Security",
          "scope": "Energy sector communication protocols",
          "key_requirements": [
            "Secure SCADA communications",
            "Authentication and authorization",
            "Encryption of power system data",
            "Security for IEC 61850 protocol"
          ]
        },
        {
          "name": "NIST Cybersecurity Framework",
          "description": "Framework for Improving Critical Infrastructure Cybersecurity",
          "scope": "Risk-based approach to cybersecurity",
          "key_requirements": [
            "Identify assets and risks",
            "Protect critical systems",
            "Detect cybersecurity events",
            "Respond to incidents",
            "Recover from attacks"
          ]
        },
        {
          "name": "API 1164",
          "description": "Pipeline SCADA Security",
          "scope": "Oil & gas pipeline security (US)",
          "key_requirements": [
            "SCADA system isolation",
            "Access control and authentication",
            "Intrusion detection systems",
            "Security awareness training"
          ]
        }
      ],
      "security_pillars": [
        {
          "pillar": "Critical Infrastructure Protection",
          "requirements": [
            "Air-gapped OT networks",
            "Multi-factor authentication for critical systems",
            "Physical security integration",
            "Cyber-physical system monitoring",
            "24/7 security operations center (SOC)"
          ]
        },
        {
          "pillar": "SCADA/ICS Security",
          "requirements": [
            "Network segmentation (Purdue Model)",
            "Industrial DMZ",
            "Whitelisting for control systems",
            "Anomaly detection for OT protocols",
            "Secure remote access (MFA + VPN)"
          ]
        },
        {
          "pillar": "Operational Technology Resilience",
          "requirements": [
            "Backup control systems",
            "Failover to manual operations",
            "Cybersecurity incident response plan",
            "Regular tabletop exercises",
            "Supply chain risk management"
          ]
        }
      ],
      "azure_security_services": [
        "Azure Defender for IoT",
        "Azure Sentinel with OT threat intelligence",
        "Azure Sphere for IoT device security",
        "Azure Bastion for secure remote access",
        "Azure Site Recovery for disaster recovery"
      ]
    }
  },
  "security_baseline": {
    "checks": [
      {
        "id": "ha-control-plane",
        "name": "High Availability Control Plane",
        "description": "Control plane should have 3+ nodes for production",
        "category": "workload-protection",
        "severity": "critical",
        "points": 15,
        "check": "controlPlaneCount >= 3"
      },
      {
        "id": "availability-sets",
        "name": "Availability Sets Enabled",
        "description": "VMs spread across physical hosts with anti-affinity",
        "category": "network-security",
        "severity": "high",
        "points": 10,
        "check": "enableAvailabilitySets === true"
      },
      {
        "id": "auto-scaling",
        "name": "Node Pool Auto-scaling",
        "description": "Enable auto-scaling to handle variable workloads",
        "category": "workload-protection",
        "severity": "medium",
        "points": 5,
        "check": "nodePoolsHaveAutoScaling === true"
      },
      {
        "id": "min-nodes",
        "name": "Minimum Node Count",
        "description": "At least 3 worker nodes for workload distribution",
        "category": "workload-protection",
        "severity": "medium",
        "points": 5,
        "check": "totalNodes >= 3"
      },
      {
        "id": "monitoring",
        "name": "Monitoring Enabled",
        "description": "Azure Monitor for observability and alerting",
        "category": "monitoring-compliance",
        "severity": "high",
        "points": 10,
        "check": "monitoringEnabled === true"
      },
      {
        "id": "backup",
        "name": "Backup Configuration",
        "description": "Regular backups for disaster recovery",
        "category": "data-protection",
        "severity": "critical",
        "points": 15,
        "check": "backupEnabled === true"
      },
      {
        "id": "network-policies",
        "name": "Network Policies",
        "description": "Network policies for pod-to-pod communication control",
        "category": "network-security",
        "severity": "high",
        "points": 10,
        "check": "networkPoliciesEnabled === true"
      },
      {
        "id": "rbac",
        "name": "RBAC Configuration",
        "description": "Role-based access control for cluster security",
        "category": "identity-access",
        "severity": "critical",
        "points": 20,
        "check": "rbacEnabled === true"
      },
      {
        "id": "encryption-at-rest",
        "name": "Encryption at Rest",
        "description": "Data encrypted on disk (required for PCI-DSS, GDPR)",
        "category": "data-protection",
        "severity": "critical",
        "points": 10,
        "check": "encryptionAtRest === true",
        "compliance": ["PCI-DSS", "GDPR", "ISO 27001"]
      },
      {
        "id": "network-segmentation",
        "name": "Network Segmentation",
        "description": "Isolated network zones (required for IEC 62443, NERC CIP)",
        "category": "network-security",
        "severity": "high",
        "points": 5,
        "check": "networkSegmentation === true",
        "compliance": ["IEC 62443", "NERC CIP", "API 1164"]
      },
      {
        "id": "audit-logging",
        "name": "Comprehensive Audit Logging",
        "description": "Detailed logging for compliance with 90+ day retention (PCI-DSS, NERC CIP)",
        "category": "monitoring-compliance",
        "severity": "high",
        "points": 10,
        "check": "auditLogging === true",
        "compliance": ["PCI-DSS", "NERC CIP", "NIST CSF"]
      },
      {
        "id": "defender-enabled",
        "name": "Microsoft Defender for Containers",
        "description": "Runtime threat detection and vulnerability scanning",
        "category": "workload-protection",
        "severity": "high",
        "points": 15,
        "check": "defenderEnabled === true",
        "compliance": ["PCI-DSS", "HIPAA", "ISO 27001", "SOC 2"]
      },
      {
        "id": "policy-enabled",
        "name": "Azure Policy Enforcement",
        "description": "Policy-as-code for governance and compliance",
        "category": "monitoring-compliance",
        "severity": "medium",
        "points": 10,
        "check": "policyEnabled === true",
        "compliance": ["PCI-DSS", "HIPAA", "FedRAMP"]
      },
      {
        "id": "pod-security-standards",
        "name": "Pod Security Standards (PSS)",
        "description": "Enforce baseline pod security policies",
        "category": "workload-protection",
        "severity": "high",
        "points": 10,
        "check": "podSecurityStandards === true",
        "compliance": ["CIS Kubernetes Benchmark"]
      },
      {
        "id": "workload-identity",
        "name": "Workload Identity",
        "description": "Pod-level managed identities for secure access",
        "category": "identity-access",
        "severity": "medium",
        "points": 5,
        "check": "workloadIdentity === true"
      },
      {
        "id": "private-cluster",
        "name": "Private Cluster Configuration",
        "description": "No public API endpoint exposure",
        "category": "network-security",
        "severity": "medium",
        "points": 10,
        "check": "privateCluster === true",
        "compliance": ["Zero Trust", "NIST 800-53"]
      },
      {
        "id": "standard-load-balancer",
        "name": "Standard Load Balancer",
        "description": "Zone-redundant load balancer with advanced features",
        "category": "network-security",
        "severity": "low",
        "points": 5,
        "check": "loadBalancerSku === 'Standard'"
      }
    ],
    "score_thresholds": {
      "excellent": 90,
      "good": 70,
      "fair": 50,
      "poor": 0
    },
    "categories": {
      "network-security": {
        "name": "Network Security",
        "description": "Network isolation, segmentation, and policy enforcement",
        "maxPoints": 25,
        "icon": "üîí"
      },
      "identity-access": {
        "name": "Identity & Access",
        "description": "Authentication, authorization, and access control",
        "maxPoints": 20,
        "icon": "üë§"
      },
      "data-protection": {
        "name": "Data Protection",
        "description": "Encryption, backup, and data security",
        "maxPoints": 25,
        "icon": "üõ°Ô∏è"
      },
      "monitoring-compliance": {
        "name": "Monitoring & Compliance",
        "description": "Logging, monitoring, and audit trails",
        "maxPoints": 20,
        "icon": "üìä"
      },
      "workload-protection": {
        "name": "Workload Protection",
        "description": "High availability, scaling, and workload resilience",
        "maxPoints": 10,
        "icon": "‚öôÔ∏è"
      }
    }
  }
}
