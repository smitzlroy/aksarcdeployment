{
  "metadata": {
    "version": "1.0",
    "last_updated": "2024-12-16T00:00:00",
    "target": "Azure Local 2511"
  },
  "kubernetes_versions": [
    "1.29.2",
    "1.28.5",
    "1.27.9"
  ],
  "os_images": {
    "linux": [
      {
        "name": "Azure Linux 2.0",
        "version": "2.0.20240101"
      },
      {
        "name": "Ubuntu 22.04",
        "version": "22.04.202401"
      }
    ],
    "windows": [
      {
        "name": "Windows Server 2022",
        "version": "20348.2227"
      },
      {
        "name": "Windows Server 2019",
        "version": "17763.5329"
      }
    ]
  },
  "vm_skus": {
    "general_purpose": [
      {
        "name": "Standard_D4s_v5",
        "vcpus": 4,
        "memory_gb": 16,
        "gpu": false
      },
      {
        "name": "Standard_D8s_v5",
        "vcpus": 8,
        "memory_gb": 32,
        "gpu": false
      },
      {
        "name": "Standard_D16s_v5",
        "vcpus": 16,
        "memory_gb": 64,
        "gpu": false
      },
      {
        "name": "Standard_D32s_v5",
        "vcpus": 32,
        "memory_gb": 128,
        "gpu": false
      }
    ],
    "gpu": [
      {
        "name": "Standard_NC4as_T4_v3",
        "vcpus": 4,
        "memory_gb": 28,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      },
      {
        "name": "Standard_NC8as_T4_v3",
        "vcpus": 8,
        "memory_gb": 56,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      },
      {
        "name": "Standard_NC16as_T4_v3",
        "vcpus": 16,
        "memory_gb": 110,
        "gpu": true,
        "gpu_model": "T4",
        "gpu_count": 1
      }
    ]
  },
  "limits": {
    "control_plane_options": [1, 3, 5],
    "max_nodes_per_pool": 100,
    "max_pools_per_cluster": 10,
    "max_nodes_per_cluster": 1000,
    "max_racks": 16,
    "min_nodes_per_rack": 1
  },
  "workload_presets": {
    "video-analytics": {
      "name": "Video Analytics",
      "description": "Optimized for camera feeds, video processing, and analytics",
      "cpu_cores": 32,
      "memory_gb": 128,
      "gpu_required": true,
      "gpu_count": 2,
      "storage_gb": 1000
    },
    "ai-inference": {
      "name": "AI Inference",
      "description": "Machine learning model serving and inference workloads",
      "cpu_cores": 16,
      "memory_gb": 64,
      "gpu_required": true,
      "gpu_count": 1,
      "storage_gb": 500
    },
    "general-purpose": {
      "name": "General Purpose",
      "description": "Balanced compute for web apps and microservices",
      "cpu_cores": 8,
      "memory_gb": 32,
      "gpu_required": false,
      "gpu_count": 0,
      "storage_gb": 200
    }
  },
  "environment_templates": {
    "poc": {
      "name": "POC / Development",
      "description": "Minimal resources for proof-of-concept and development testing",
      "icon": "ðŸ§ª",
      "control_plane_count": 1,
      "min_nodes": 2,
      "max_nodes": 3,
      "enable_auto_scaling": false,
      "enable_monitoring": false,
      "backup_enabled": false,
      "cost_tier": "minimal",
      "use_cases": ["Quick testing", "Development", "Feature validation"],
      "warnings": ["Not suitable for production", "No high availability", "Single point of failure"],
      "estimated_monthly_cost": 247
    },
    "pilot": {
      "name": "Pilot / Testing",
      "description": "Basic high availability for pilot programs and pre-production testing",
      "icon": "ðŸš€",
      "control_plane_count": 3,
      "min_nodes": 3,
      "max_nodes": 10,
      "enable_auto_scaling": true,
      "enable_monitoring": true,
      "backup_enabled": true,
      "cost_tier": "moderate",
      "use_cases": ["Pilot deployments", "UAT testing", "Performance validation"],
      "warnings": ["Limited scale", "Basic monitoring only"],
      "estimated_monthly_cost": 1834
    },
    "production": {
      "name": "Production",
      "description": "Full high availability with auto-scaling and comprehensive monitoring",
      "icon": "âš¡",
      "control_plane_count": 3,
      "min_nodes": 3,
      "max_nodes": 100,
      "enable_auto_scaling": true,
      "enable_monitoring": true,
      "backup_enabled": true,
      "cost_tier": "full",
      "use_cases": ["Production workloads", "Mission-critical apps", "Enterprise scale"],
      "warnings": [],
      "estimated_monthly_cost": 4291,
      "security_hardening": true,
      "compliance_ready": true
    }
  },
  "security_baseline": {
    "checks": [
      {
        "id": "ha-control-plane",
        "name": "High Availability Control Plane",
        "description": "Control plane should have 3+ nodes for production",
        "category": "availability",
        "severity": "high",
        "points": 15,
        "check": "controlPlaneCount >= 3"
      },
      {
        "id": "availability-sets",
        "name": "Availability Sets Enabled",
        "description": "VMs spread across physical hosts with anti-affinity",
        "category": "availability",
        "severity": "high",
        "points": 10,
        "check": "enableAvailabilitySets === true"
      },
      {
        "id": "auto-scaling",
        "name": "Node Pool Auto-scaling",
        "description": "Enable auto-scaling to handle variable workloads",
        "category": "resilience",
        "severity": "medium",
        "points": 8,
        "check": "nodePoolsHaveAutoScaling === true"
      },
      {
        "id": "min-nodes",
        "name": "Minimum Node Count",
        "description": "At least 3 worker nodes for workload distribution",
        "category": "availability",
        "severity": "medium",
        "points": 10,
        "check": "totalNodes >= 3"
      },
      {
        "id": "monitoring",
        "name": "Monitoring Enabled",
        "description": "Azure Monitor for observability and alerting",
        "category": "operations",
        "severity": "high",
        "points": 12,
        "check": "monitoringEnabled === true"
      },
      {
        "id": "backup",
        "name": "Backup Configuration",
        "description": "Regular backups for disaster recovery",
        "category": "data-protection",
        "severity": "high",
        "points": 10,
        "check": "backupEnabled === true"
      },
      {
        "id": "network-policies",
        "name": "Network Policies",
        "description": "Network policies for pod-to-pod communication control",
        "category": "security",
        "severity": "high",
        "points": 15,
        "check": "networkPoliciesEnabled === true"
      },
      {
        "id": "rbac",
        "name": "RBAC Configuration",
        "description": "Role-based access control for cluster security",
        "category": "security",
        "severity": "critical",
        "points": 20,
        "check": "rbacEnabled === true"
      }
    ],
    "score_thresholds": {
      "excellent": 90,
      "good": 70,
      "fair": 50,
      "poor": 0
    }
  }
}
